<%- include("partials/header") %> 

<div class="flex-structure">
  <div>
    <a style ="text-decoration: none;" href="/"><button class="style-button btn-primary">Home | Register Parts</button></a>
  </div>
  <div>
      <a style ="text-decoration: none;" href="/inventory"><button class="style-button btn-primary">Inventory | Sell Parts</button></a>
  </div>
  <div>
      <a style ="text-decoration: none; " href="/soldItems"> <button class="style-button btn-primary">Sold Parts</button></a>
  </div>
  <!-- <div>
      <a style ="text-decoration: none; " href="/orderItems"><button class="style-button btn-primary">Parts to order</button></a> 
  </div> -->
  <div>
    <a style ="text-decoration: none;" href="/statistics"><button class="style-button btn-warning">Data Statistics</button></a>
  </div>

</div>

<h1 class="page-headings">SOLD PARTS</h1>
<hr style="border: 8px gray dashed; background-color: white;" />

<div class="col-md-12 text-center">
  <a style ="text-decoration: none;" href="/statistics"><button class="style-button btn-info">View Statistics</button></a>
</div>

  <form action="/sorting" method="post">
    <input style="display: none;" type="text" name="pageName" value="SoldItems">
    <div class="input-group mb-3 w-25" style="margin-left: 2%;">
      <input name="Date" type="date" class="form-control" data-bs-toggle="tooltip" title="Choose date & click the right filter button" placeholder="Fill the date in the format DD/MM/YYYY" aria-label="Fill the date in the format DD/MM/YYYY" aria-describedby="button-addon2">
      <button class="btn btn-dark" type="submit" id="button-addon2"><i class="fa fa-filter"></i> Sort By Date</button>
  </div>
    <table class="table table-striped table-bordered text-center">
        <thead>
          <tr class="table-dark">
            <th scope="col">#ID</th>
            <th scope="col">Date</th>
            <th scope="col">Part Name</th>
            <th scope="col">Cost Price<br>(per unit)</th>
            <th scope="col">Selling Price<br>(per unit)</th>
            <th scope="col">Quantity<br> (sold)</th>
            <th scope="col">Profit<br> ( in Rs.)</th>
            <th scope="col">Revenue<br> ( in Rs.)</th>
          </tr>
        </thead>
        <tbody>

        <%  soldParts.forEach((event) => { %>

                <tr>
                    <th><%= event.id %></th>
                    <td class="col-2"><%= event.date %> </td>
                    <td><%= event.name %></td>
                    <td><%= event.CP %></td>
                    <td><%= event.SP %></td>
                    <td><%= event.quantity %></td>
                    <td><%= event.profit %></td>
                    <td><%= event.revenue %> </td>
                  </tr>
  </form>
    <%  }) %> 
        
    </tbody>
  </table>

<%- include("partials/footer") %> 