<%- include("partials/header") %> 

<div class="flex-structure">
  <div>
    <a style ="text-decoration: none;" href="/"><button class="style-button btn-primary">Home | Register Parts</button></a>
  </div>
  <div>
      <a style ="text-decoration: none;" href="/inventory"><button class="style-button btn-primary">Inventory | Sell Parts</button></a>
  </div>
  <div>
      <a style ="text-decoration: none; " href="/soldItems"> <button class="style-button btn-primary">Sold Parts</button></a>
  </div>
  <!-- <div>
      <a style ="text-decoration: none; " href="/orderItems"><button class="style-button btn-primary">Parts to order</button></a> 
  </div> -->
  <div>
    <a style ="text-decoration: none;" href="/statistics"><button class="style-button btn-warning">Data Statistics</button></a>
  </div>

</div>

<h1 class="page-headings">INVENTORY & SELL PARTS</h1>
<hr style="border: 8px gray dashed; background-color: white;" />

<div>
  <a style ="text-decoration: none;" href="/sorting"><button class="style-button btn-dark"><i class="fa fa-filter"></i> Filter</button></a>
</div>

<table class="table table-striped table-bordered text-center">
    <thead>
        <tr class="table-dark">
          <th scope="col">#id</th>
          <th scope="col">Date</th>
          <th scope="col">Name</th>
          <th scope="col">Size</th>
          <th scope="col">Supplier</th>
          <th scope="col">Cost Price<br>(per unit)</th>
          <th scope="col">Stock<br>(count)</th>
          <th scope="col">Total paid<br>(amount)</th>
          <th class="table-info text-center" scope="col">Selling Price <br> (per unit)</th>
          <th class="table-info text-center" scope="col">Number of <br> units sold</th>
          <th class="table-info text-center" scope="col">Update <br> Data</th>
        </tr>
      </thead>
      <tbody>

    <% printParts.forEach((event) => { %>
        <form action="/update" method="post">
            <tr>
              <th scope="row"><%= event.id %></th>
              <td class="col-2"><%= event.date %> </td>
              <td><%= event.name %></td>
              <td><%= event.size %> </td>
              <td><%= event.supplier %></td>
              <td><%= event.costPrice %></td>
              <td ><%= event.stock %></td>
              <input name="stock" value= <%= event.stock %> type="text" style="display: none;">
              <td><%= event.total %> </td>
              <button style="display: none;"><input name= "costPrice" value=<%= event.costPrice %> type="text"></button>
              <td><input name = "sellingPrice" data-bs-toggle="tooltip" title="Selling price (per unit)" autocomplete="off" placeholder="Selling Price" class="inventory-inputs" type="text"></td>
              <td><input name = "stockSold" data-bs-toggle="tooltip" title="Sold Units" placeholder="Sold quantity" type="text" autocomplete="off" class="inventory-inputs"></td> 
              <td><button name="updateData" class="btn btn-info" type="submit" value=<%= event._id %>>update</button></td>
            </tr>  
        </form>      
    <%  }) %> 
</tbody>
</table>

<%- include("partials/footer") %> 